{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Xpro\\\\Desktop\\\\Sir farman task\\\\code\\\\coin-bouunce\\\\code\\\\frontend\\\\src\\\\pages\\\\Login\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport styles from './login.module.css';\nimport TextInput from '../../components/TextInput/TextInput';\nimport loginSchema from '../../schemas/loginSchema';\nimport { useFormik } from 'formik';\nimport { login } from '../../api/internal';\nimport { setUser } from '../../store/userSlice';\nimport { useDispatch } from 'react-redux';\nimport { Navigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const navigate = Navigate();\n  const dispatch = useDispatch();\n  const [error, setError] = userState('');\n  const handleLogin = async () => {\n    const data = {\n      username: values.username,\n      password: values.password\n    };\n    const response = await login(data);\n    if (response.status === 200) {\n      //1. setUser\n      const user = {\n        _id: response.data.user._id,\n        email: response.data.user.email,\n        username: response.data.user.username,\n        auth: response.data.user.auth\n      };\n      dispatch(setUser(user));\n      //2. redirect ->Homepage\n      navigate('/');\n    } else if (response.code === 'ERR_BAD_REQUEST') {\n      //display error message\n      setError(response.response.data.errormessage);\n    }\n  };\n  const {\n    values,\n    touched,\n    handleBlur,\n    handleChange,\n    errors\n  } = useFormik({\n    initialValues: {\n      username: '',\n      password: ''\n    },\n    validationSchema: loginSchema\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.loginWrapper,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.loginHeader,\n      children: \"Login To Your Account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n      type: \"text\",\n      vlaue: values.username,\n      name: \"username\",\n      onBlur: handleBlur,\n      onChange: handleChange,\n      placeholder: \"username\",\n      error: errors.username && touched.username ? 1 : undefined,\n      errormessage: errors.username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n      type: \"password\",\n      name: \"password\",\n      vlaue: values.password,\n      onBlur: handleBlur,\n      onChange: handleChange,\n      placeholder: \"password\",\n      error: errors.password && touched.password ? 1 : undefined,\n      errormessage: errors.password\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: styles.logInButton,\n      onClick: handleLogin,\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"Don't have an Account \", /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.createAccount,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"G17LHcS9jaA7+HMNyGBYOXJubnI=\", false, function () {\n  return [useDispatch, useFormik];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","styles","TextInput","loginSchema","useFormik","login","setUser","useDispatch","Navigate","jsxDEV","_jsxDEV","Login","_s","navigate","dispatch","error","setError","userState","handleLogin","data","username","values","password","response","status","user","_id","email","auth","code","errormessage","touched","handleBlur","handleChange","errors","initialValues","validationSchema","className","loginWrapper","children","loginHeader","fileName","_jsxFileName","lineNumber","columnNumber","type","vlaue","name","onBlur","onChange","placeholder","undefined","logInButton","onClick","createAccount","_c","$RefreshReg$"],"sources":["C:/Users/Xpro/Desktop/Sir farman task/code/coin-bouunce/code/frontend/src/pages/Login/Login.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport styles from './login.module.css';\r\nimport TextInput from '../../components/TextInput/TextInput';\r\nimport loginSchema from '../../schemas/loginSchema';\r\nimport { useFormik } from 'formik';\r\nimport { login } from '../../api/internal';\r\nimport { setUser } from '../../store/userSlice';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Navigate } from 'react-router-dom';\r\nfunction Login(){\r\n\r\n    const navigate = Navigate();\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const[error, setError] = userState('');\r\n    const handleLogin = async () => {\r\n\r\n        const data = {\r\n            username : values.username,\r\n            password : values.password\r\n        }\r\n        const response = await login(data);\r\n        if (response.status===200){\r\n            //1. setUser\r\n            const user = {\r\n                _id: response.data.user._id,\r\n                email: response.data.user.email,\r\n                username: response.data.user.username,\r\n                auth: response.data.user.auth,\r\n            }\r\n            dispatch(setUser(user));\r\n            //2. redirect ->Homepage\r\n            navigate('/')\r\n        }\r\n        else if (response.code === 'ERR_BAD_REQUEST'){\r\n            //display error message\r\n            setError(response.response.data.errormessage);\r\n        }\r\n    }\r\n\r\n\r\n    const {values, touched, handleBlur, handleChange, errors} = useFormik({\r\n        initialValues:{\r\n            username: '',\r\n            password: ''\r\n        },\r\n        validationSchema: loginSchema\r\n    });\r\n    return(\r\n        <div className={styles.loginWrapper}>\r\n            <div className={styles.loginHeader}>\r\n                Login To Your Account\r\n            </div>\r\n            <TextInput \r\n                type = \"text\"\r\n                vlaue = {values.username}\r\n                name = \"username\"\r\n                onBlur = {handleBlur}\r\n                onChange = {handleChange}\r\n                placeholder = \"username\"\r\n                error = {errors.username && touched.username ? 1: undefined}\r\n                errormessage = {errors.username}\r\n            />\r\n            <TextInput \r\n                 type = \"password\"\r\n                 name = \"password\"\r\n                 vlaue = {values.password}\r\n                 onBlur = {handleBlur}\r\n                 onChange = {handleChange}\r\n                 placeholder = \"password\"\r\n                 error = {errors.password && touched.password ? 1: undefined}\r\n                 errormessage = {errors.password}\r\n            />\r\n            <button className={styles.logInButton} onClick={handleLogin}>Login</button>\r\n            <span>\r\n                Don't have an Account <button className={styles.createAccount}>Register</button>\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}