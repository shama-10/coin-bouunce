{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Xpro\\\\Desktop\\\\Sir farman task\\\\code\\\\coin-bouunce\\\\code\\\\frontend\\\\src\\\\pages\\\\Login\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport styles from \"./login.module.css\";\nimport TextInput from \"../../components/TextInput/TextInput\";\nimport loginSchema from \"../../schemas/loginSchema\";\nimport { useFormik } from \"formik\";\nimport { login } from \"../../api/internal\";\nimport { setUser } from \"../../store/userSlice\";\nimport { useDispatch } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const [error, setError] = useState(\"\");\n  const handleLogin = async () => {\n    const data = {\n      username: values.username,\n      password: values.password\n    };\n    const response = await login(data);\n    if (response.status === 200) {\n      //1. setUser\n      const user = {\n        _id: response.data.user._id,\n        email: response.data.user.email,\n        username: response.data.user.username,\n        auth: response.data.auth\n      };\n      dispatch(setUser(user));\n      //2. redirect ->Homepage\n      navigate(\"/\");\n    } else if (response.code === \"ERR_BAD_REQUEST\") {\n      //display error message\n      setError(response.response.data.message);\n    }\n  };\n  const {\n    values,\n    touched,\n    handleBlur,\n    handleChange,\n    errors\n  } = useFormik({\n    initialValues: {\n      username: \"\",\n      password: \"\"\n    },\n    validationSchema: loginSchema\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.loginWrapper,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.loginHeader,\n      children: \"Login To Your Account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n      type: \"text\",\n      vlaue: values.username,\n      name: \"username\",\n      onBlur: handleBlur,\n      onChange: handleChange,\n      placeholder: \"username\",\n      error: errors.username && touched.username ? 1 : undefined,\n      errormessage: errors.username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n      type: \"password\",\n      name: \"password\",\n      vlaue: values.password,\n      onBlur: handleBlur,\n      onChange: handleChange,\n      placeholder: \"password\",\n      error: errors.password && touched.password ? 1 : undefined,\n      errormessage: errors.password\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: styles.logInButton,\n      onClick: handleLogin,\n      disabled: !values.username || !values.password || errors.username || errors.password,\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"Don't have an Account\", \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.createAccount,\n        onClick: () => navigate(\"/signup\"),\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), error !== '' ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles.errorMessage,\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 23\n    }, this) : \"\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"tMJ8Rh3CJ5nNB0069wiYfG8t4VQ=\", false, function () {\n  return [useNavigate, useDispatch, useFormik];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","styles","TextInput","loginSchema","useFormik","login","setUser","useDispatch","useNavigate","jsxDEV","_jsxDEV","Login","_s","navigate","dispatch","error","setError","handleLogin","data","username","values","password","response","status","user","_id","email","auth","code","message","touched","handleBlur","handleChange","errors","initialValues","validationSchema","className","loginWrapper","children","loginHeader","fileName","_jsxFileName","lineNumber","columnNumber","type","vlaue","name","onBlur","onChange","placeholder","undefined","errormessage","logInButton","onClick","disabled","createAccount","errorMessage","_c","$RefreshReg$"],"sources":["C:/Users/Xpro/Desktop/Sir farman task/code/coin-bouunce/code/frontend/src/pages/Login/Login.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport styles from \"./login.module.css\";\r\nimport TextInput from \"../../components/TextInput/TextInput\";\r\nimport loginSchema from \"../../schemas/loginSchema\";\r\nimport { useFormik } from \"formik\";\r\nimport { login } from \"../../api/internal\";\r\nimport { setUser } from \"../../store/userSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nfunction Login() {\r\n  const navigate = useNavigate();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [error, setError] = useState(\"\");\r\n  const handleLogin = async () => {\r\n    const data = {\r\n      username: values.username,\r\n      password: values.password,\r\n    };\r\n    const response = await login(data);\r\n    if (response.status === 200) {\r\n      //1. setUser\r\n      const user = {\r\n        _id: response.data.user._id,\r\n        email: response.data.user.email,\r\n        username: response.data.user.username,\r\n        auth: response.data.auth,\r\n      };\r\n      dispatch(setUser(user));\r\n      //2. redirect ->Homepage\r\n      navigate(\"/\");\r\n    } else if (response.code === \"ERR_BAD_REQUEST\") {\r\n      //display error message\r\n      setError(response.response.data.message);\r\n    }\r\n  };\r\n\r\n  const { values, touched, handleBlur, handleChange, errors } = useFormik({\r\n    initialValues: {\r\n      username: \"\",\r\n      password: \"\",\r\n    },\r\n    validationSchema: loginSchema,\r\n  });\r\n  return (\r\n    <div className={styles.loginWrapper}>\r\n      <div className={styles.loginHeader}>Login To Your Account</div>\r\n      <TextInput\r\n        type=\"text\"\r\n        vlaue={values.username}\r\n        name=\"username\"\r\n        onBlur={handleBlur}\r\n        onChange={handleChange}\r\n        placeholder=\"username\"\r\n        error={errors.username && touched.username ? 1 : undefined}\r\n        errormessage={errors.username}\r\n      />\r\n      <TextInput\r\n        type=\"password\"\r\n        name=\"password\"\r\n        vlaue={values.password}\r\n        onBlur={handleBlur}\r\n        onChange={handleChange}\r\n        placeholder=\"password\"\r\n        error={errors.password && touched.password ? 1 : undefined}\r\n        errormessage={errors.password}\r\n      />\r\n      <button className={styles.logInButton} onClick={handleLogin}\r\n      disabled = {\r\n        !values.username ||\r\n          !values.password ||\r\n          errors.username ||\r\n          errors.password\r\n      }\r\n      >\r\n        Login\r\n      </button>\r\n      <span>\r\n        Don't have an Account{\" \"}\r\n        <button\r\n          className={styles.createAccount}\r\n          onClick={() => navigate(\"/signup\")}\r\n        >\r\n          Register\r\n        </button>\r\n      </span>\r\n      {error !== '' ? <p className={styles.errorMessage}>{error}</p> : \"\"}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}